# 「ラクシアらいふ！ねお！」のルールに従ったプレイヤーとして参加したセッションである・ないの判定ロジック

## 結論

以下のいずれかに当てはまる場合は「プレイヤーとして参加したセッションでは**ない**」として扱う。

1. GM欄が以下のいずれかである場合
    * 自分
    * 私
    * 空欄である
    * キャラクターシートに記載されたプレイヤーの名前を含む文字列である
    * キャラクターシートに記載されたプレイヤーが文字列を含んでいる
1. レギュレーションに定められた GM の報酬（経験点・ガメル）ど同額のものを受け取っている場合
1. 経験点とガメルの双方が空欄または0の場合

ただし、3については誤検知がありうる点には注意が必要。
経験点が上限に達しているかつ一切ガメルの収入がない卓があれば誤検知となる。

## 想定

セッションの履歴には以下の3種類があるものと考える。

* プレイヤーとして参加したセッション
* GM として参加したセッション
* ただのメモ

## パターンについての考慮

以下7パターンについて考慮する。以下のような結果であることが望まれる。

| Case ID | Case1 | Case2 | Case3 | Case4 | Case5 | Case6 | Case7 |
| ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- |
| GM回の卓である | Y | Y | Y | N | N | N | N |
| まだ経験点上限に達してない | Y | N | N | Y | N | N | - |
| 丁度経験点上限に達した卓 | N | Y | N | N | Y | N | - |
| 既に経験点上限に達している | N | N | Y | N | N | Y | - |
| そもそも関係ないメモ | N | N | N | N | N | N | Y |
|  |  |  |  |  |  |  |
| 経験点 | 規定額 | あり | なし | あり | あり | なし | 不安定 |
| ガメル | 規定額 | 規定額 | 規定額 | あり | あり | あり | 不安定 |
| GM欄 | 空欄または自身の名前 | 空欄または自身の名前 | 空欄または自身の名前 | GMの名前 | GMの名前 | GMの名前 | なし |
|  |  |  |  |  |  |  |
| プレイヤーとして参加したセッション扱い | N | N | N | Y | Y | Y | N |

GM の名前で判定を行うのがもっとも有効そうであると考えられる。
GM の名前が自身や空欄であればプレイヤーとして参加したセッションではない、と判断して良いだろう。

ただし、ハズレ値を引いた場合に備えて他の要素でも確認は行っておく。
