<html>
    <head>
        <style>
            * {
	            box-sizing:border-box;
	            font-family: "BIZ UDゴシック","UD Shin Go NT Light JIS2004","UD デジタル 教科書体 N-R", Verdana, Roboto, "Droid Sans", "游ゴシック", YuGothic, "メイリオ", Meiryo, "ヒラギノ角ゴ ProN W3", "Hiragino Kaku Gothic ProN", "ＭＳ Ｐゴシック", sans-serif;
            }
            .passed {
                background-color:aquamarine;
            }
            .failed {
                background-color:salmon;
            }
            div {
                margin-bottom:8px;
                padding:4px;
            }
        </style>
    </head>
    <body>
        <div id="result"></div>
        <script src="./datetimePicker.js"></script>
        <script>
            var report = {
                passed: 0,
                failed: 0
            };
            document.getElementById('result').innerHTML = [
                {
                    "name": "【募集中】　3・26　13：00～「呪刀（ノロイガタナ）　徒花」",
                    "expected": "03/26 13:00"
                },
                {
                    "name": "〆　3月25日　始まりの冒険",
                    "expected": "03/25"
                },
                {
                    "name": "【募集〆】　3/25 13:00~　いばら姫",
                    "expected": "03/25 13:00"
                },
                {
                    "name": "【締切】3/21　13:00 ～その幻影は何を求む？",
                    "expected": "03/21 13:00"
                },
                {
                    "name": "【締切】日程すり合わせ　シナリオ名未定",
                    "expected": ""
                },
                {
                    "name": "【終了】2/23 13:00~ 幽霊屋敷をそのままに",
                    "expected": "02/23 13:00"
                },
                {
                    "name": "【終了】2/21　20:00 ～その幻影は何を求む？",
                    "expected": "02/21 20:00"
                },
                {
                    "name": "【終了】2/23 13:00～ 狼少年を捕まえろ",
                    "expected": "02/23 13:00"
                },
                {
                    "name": "【終了】2/25土13:00～「さぁ、剣を取ろう！」",
                    "expected": "02/25 13:00"
                },
                {
                    "name": "【終了】海底の残骸　20:00～",
                    "expected": ""
                },
                {
                    "name": "【終了】3/3 20:00～泥沼の主",
                    "expected": "03/03 20:00"
                },
                {
                    "name": "【終了】3/7 20時～　砂漠にて群がるモノ",
                    "expected": "03/07 20:00"
                },
                {
                    "name": "【終了】3/11　13時～　星振る夜に",
                    "expected": "03/11 13:00"
                },
                {
                    "name": "【終了】　3/18　１３時～「呪刀（ノロイガタナ）　徒花」",
                    "expected": "03/18 13:00"
                },
                {
                    "name": "【終了】3/15 20時～　砂漠にて群がるモノ",
                    "expected": "03/15 20:00"
                },
                {
                    "name": "【終了】　3/17　20：00～　救出？回収？",
                    "expected": "03/17 20:00"
                },
                {
                    "name": "【終了 / ログ公開済】3/4 終日 遺跡探索をしよう！",
                    "expected": "03/04"
                },
                {
                    "name": "【終了】　2/12  13:00～　夜闇の翼",
                    "expected": "02/12 13:00"
                },
                {
                    "name": "【終了】2/7 20:00~我慢比べの遺跡",
                    "expected": "02/07 20:00"
                },
                {
                    "name": "【流卓】2/4 13：00～咆哮鳴くるる時、我々は",
                    "expected": "02/04 13:00"
                },
                {
                    "name": "【終了】1/31 20:00~ 幽霊屋敷をそのままに",
                    "expected": "01/31 20:00"
                },
                {
                    "name": "【流卓】　1/1　 蛮族殺し　（テスト投稿）",
                    "expected": "01/01"
                },
                {
                    "name": "【募集中】3／26　蛮族殺し",
                    "expected": "03/26"
                },
                {
                    "name": "【募集中】6月26～30日いずれか　20時～『駆け出し冒険者』",
                    "expected": "06/26～06/30 20:00"
                },
                {
                    "name": "【募集中】6月26～7月2日いずれか　20時～『駆け出し冒険者』",
                    "expected": "06/26～07/02 20:00"
                },
                {
                    "name": "【募集中】6/26～どこか　20時～『駆け出し冒険者』",
                    "expected": "06/26～ 20:00"
                },
                {
                    "name": "【募集中】～6月30日 20時～『駆け出し冒険者』",
                    "expected": "～06/30 20:00"
                },
                {
                    "name": "【募集中】8/18（金）20:00~　魔動機技師捜索",
                    "expected": "08/18 20:00"
                }
            ].map((pattern, i)=>{
                const actual = io.github.shunshun94.util.DateTimePicker.pick(pattern.name);
                if(actual.text === pattern.expected) {
                    return `<div class="passed">PASSED:    ${pattern.name}<br/>TEXT:   　${actual.datetimeRevmoed}<br/>OUTPUT: 　${actual.text}<br/>D_REGEXP: ${JSON.stringify(actual.dateRegExp)}<br/>T_REGEXP: ${JSON.stringify(actual.timeRegExp)}</div>`;
                    report.passed++;
                } else {
                    return `<div class="failed">FAILED:    ${pattern.name}<br/>TEXT:   　${actual.datetimeRevmoed}<br/>EXPECTED: ${pattern.expected}<br/>ACTUAL: 　${actual.text}<br/>D_REGEXP: ${JSON.stringify(actual.dateRegExp)}<br/>T_REGEXP: ${JSON.stringify(actual.timeRegExp)}</div>`;
                    report.failed++;
                }
            }).join('\n');
        </script>
    </body>
</html>
